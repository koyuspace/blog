<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Moving away from Kubernetes</title><meta name=description content="This Saturday we moved away from Kubernetes and in this blog post we want to explain how and why we did it.
How we did it Of course we backed up the whole database and imported it to a new host. Since our media is stored in S3 we didn’t have to move this as well. After the database was imported to the new host I began installing koyu.space to the new host and changing the ."><meta property="og:type" content="website"><meta property="og:url" content="https://blog.koyu.space/2021/03/07/moving-away-from-kubernetes/"><meta property="og:title" content="Moving away from Kubernetes"><meta name=og:description content="This Saturday we moved away from Kubernetes and in this blog post we want to explain how and why we did it.
How we did it Of course we backed up the whole database and imported it to a new host. Since our media is stored in S3 we didn’t have to move this as well. After the database was imported to the new host I began installing koyu.space to the new host and changing the ."><meta property="og:image" content="/wp-content/uploads/2021/03/photo-1584524968100-76f90c97a806-1568x1045.jpeg"><link rel=stylesheet href=/css/style.css><script src=https://twemoji.maxcdn.com/v/13.1.0/twemoji.min.js integrity=sha384-gPMUf7aEYa6qc3MgqTrigJqf4gzeO6v11iPCKv+AP2S4iWRWCoWyiR+Z7rWHM/hU crossorigin=anonymous></script><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=/app.js></script></head><body><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin=anonymous></script><script src=https://koyu.space/about-assets/navbar.js></script><link href=https://koyu.space/about-assets/bootstrap-navbar.css rel=stylesheet><script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js integrity=sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4 crossorigin=anonymous></script><div id=navbar></div><header><div id=logo><a href=https://blog.koyu.space><img src=https://blog.koyu.space/logo.svg height=48> koyu.space Blog</a></div></header><main><article><style>body{background:url(/wp-content/uploads/2021/03/photo-1584524968100-76f90c97a806-1568x1045.jpeg)#223!important;background-size:cover!important;background-position:50%!important;background-blend-mode:overlay!important;background-attachment:fixed!important}</style><h1>Moving away from Kubernetes</h1><time>07.03.2021</time><div><p>This Saturday we moved away from Kubernetes and in this blog post we want to explain how and why we did it.</p><h2 id=how-we-did-it>How we did it</h2><p>Of course we backed up the whole database and imported it to a new host. Since our media is stored in S3 we didn’t have to move this as well. After the database was imported to the new host I began installing koyu.space to the new host and changing the .env vars to point to the new host. To be ultra safe I just ran a database migration, but for my luck there were no pending migrations.</p><h2 id=why-we-did-it>Why we did it</h2><p>The biggest problem with Kubernetes is performance. Without Kubernetes we reduced the memory overhead by 3 times! This means a drastical improvement from 12GB RAM in idle to 4GB. Of course this also affects load times and makes koyu.space run much more fluid. This is why I recommend not to run koyu.space or Mastodon in Kubernetes, it’s just slow.</p><h2 id=closing-words>Closing words</h2><p>koyu.space runs a lot faster now and after 8 hours of pure back pain (because I can’t sit straight) I’m glad we did this change. I thank everyone who was patient during this huge migration and we’ll see us on the wired. Have a great weekend!</p></div></article></main></body></html>